<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Use General Principles of High-Quality Data Viz in R | R Without Statistics</title>
<meta name="author" content="David Keyes">
<meta name="description" content="In the spring of 2021, nearly all of the American West was in a drought. In April of that year, officials in Southern California declared a water emergency, citing unprecedented conditions. This...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Use General Principles of High-Quality Data Viz in R | R Without Statistics">
<meta property="og:type" content="book">
<meta property="og:url" content="https://book.rwithoutstatistics.com/use-general-principles-of-high-quality-data-viz-in-r.html">
<meta property="og:image" content="https://book.rwithoutstatistics.com/mock-cover.png">
<meta property="og:description" content="In the spring of 2021, nearly all of the American West was in a drought. In April of that year, officials in Southern California declared a water emergency, citing unprecedented conditions. This...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Use General Principles of High-Quality Data Viz in R | R Without Statistics">
<meta name="twitter:description" content="In the spring of 2021, nearly all of the American West was in a drought. In April of that year, officials in Southern California declared a water emergency, citing unprecedented conditions. This...">
<meta name="twitter:image" content="https://book.rwithoutstatistics.com/mock-cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R Without Statistics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled"><li><a class="" href="index.html">Use General Principles of High-Quality Data Viz in R</a></li></ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/rfortherestofus/r-without-statistics">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="use-general-principles-of-high-quality-data-viz-in-r" class="section level1 unnumbered">
<h1>Use General Principles of High-Quality Data Viz in R<a class="anchor" aria-label="anchor" href="#use-general-principles-of-high-quality-data-viz-in-r"><i class="fas fa-link"></i></a>
</h1>
<p>In the spring of 2021, <a href="https://droughtmonitor.unl.edu/DmData/TimeSeries.aspx">nearly all of the American West was in a drought</a>. In April of that year, <a href="https://www.cbsnews.com/news/west-climate-change-water/">officials in Southern California declared a water emergency</a>, citing unprecedented conditions.</p>
<p>This wouldn’t have come as news to those living in California and other Western states. In addition to the direct impact of drought (leading areas of California to implement water use restrictions), people could see the indirect impact of drought in increased wildfires. With forests dried out by years of drought conditions, wildfires became more frequent, filling skies in the West with smoke.</p>
<p>TODO: Add personal story</p>
<p>While more and more people are able to see the increase in drought conditions, communicating the extent of this change remains a challenge. How can we show the data in a way that accurately represents the data while is also compelling enough to have lay people take notice?</p>
<p>This was the challenge that freelance data visualization designers Cédric Scherer and Georgios Karamanis took on in November 2021. Commissioned by the magazine Scientific American to create a data visualization that would highlight the extent to which droughts in the United States have become common, they turned to the ggplot2 package to turn what could be (pardon the pun) dry data on droughts into a set of impactful data visualizations.</p>
<p>There was nothing unique about the data that Cédric and Georgios used. It was the same data from the National Drought Center that news organizations used in their stories. But what these two information designers did was present the data in a way that it both grabs attention and communicates clearly the scale of the phenomenon.</p>
<div class="inline-figure"><img src="data-viz_files/figure-html/unnamed-chunk-3-1.png" width="672"></div>
<p>Let’s take a look at how they made their visualization.</p>
<div id="close-read-of-data-viz" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Close read of data viz<a class="anchor" aria-label="anchor" href="#close-read-of-data-viz"><i class="fas fa-link"></i></a>
</h2>
<p>TODO: Add something about how there was post-production so my viz is slightly different (e.g. missing 0% and 100% on y axis text).</p>
<p>Looking at the visualization as a whole, what we see is a chart broken down in multiple ways:</p>
<ol style="list-style-type: decimal">
<li>The x axis is used to show the week in a single year.</li>
<li>The y axis shows the percentage of each region at different drought levels.</li>
<li>Color is used to show the drought levels in each region.</li>
<li>The chart uses small multiples so that what appears to be one large chart is actually make up of many individual charts.</li>
</ol>
<p>To show how the chart works, let’s look at one year (2000) for one region (Southeast).</p>
<div class="inline-figure"><img src="data-viz_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>Looking at this simplified version, we can see the structure of the chart much more clearly. The bars for each week are visible, with each color indicating a different drought level.</p>
<p>TODO: Add annotated image with it showing one bar</p>
<p>While the weeks in the first half of the year have very low percentages in the exceptional drought level, the darkest color begins to appear in the second half of the year as a higher percentage of the region enters this category.</p>
<p>TODO: Add annotated image</p>
<p>To understand how the code that creates this chart works, let’s recreate a simplified version of it. In this code, we take our <code>dm_perc_cat_hubs</code> data frame, filter it to only include 2000 data from Southeast, and then pipe this into ggplot. In the <code>ggplot()</code> function, we do what’s called setting our aesthetic properties by telling R to put week on the x axis, percentage on the y axis, and use the category variable (i.e. drought level) for our fill. This last piece sets the color of the bars that are created when we use <code>geom_col()</code> to create a bar chart.</p>
<div class="inline-figure"><img src="data-viz_files/figure-html/unnamed-chunk-5-1.png" width="672"></div>
<p>The visualization that Cédric and Georgios ended up making is a stacked bar chart
Set of stacked bars</p>
<div id="shows-pattern-over-time" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> Shows pattern over time<a class="anchor" aria-label="anchor" href="#shows-pattern-over-time"><i class="fas fa-link"></i></a>
</h3>
<p>The goal of the piece is to show, <a href="https://www.scientificamerican.com/article/climate-change-drives-escalating-drought/">as the final article in Scientific American puts it</a>, that “the past two decades have seen some of the most extreme dry periods in U.S. history.” To demonstrate this trend, Cédric and Georgios used longitudinal data. After a bit of data wrangling, the data ended up looking like this:</p>
<p>TODO: Add image: <a href="https://show.rfor.us/IDq8ug" class="uri">https://show.rfor.us/IDq8ug</a></p>
<p>The variables in this data are:</p>
<ul>
<li>
<strong>date</strong>: start date of the week of the observation</li>
<li>
<strong>hub</strong>: region</li>
<li>
<strong>category</strong>: level of drought (D0 = lowest level of drought; D5 = highest level) TODO: check that my interpretation is correct</li>
<li>
<strong>percentage</strong>: percentage of that region that is in that category of drought</li>
<li>
<strong>year</strong>: observation year</li>
<li>
<strong>week</strong>: week number (i.e. first week is week 1)</li>
<li>
<strong>max_week</strong>: TODO check what it means</li>
</ul>
<p>With the data ready, Cédric and Georgios began the process of plotting.</p>
</div>
<div id="choice-of-chart-not-line-chart" class="section level3" number="1.1.2">
<h3>
<span class="header-section-number">1.1.2</span> Choice of chart (not line chart)<a class="anchor" aria-label="anchor" href="#choice-of-chart-not-line-chart"><i class="fas fa-link"></i></a>
</h3>
<p>Show how you could do it as a line chart</p>
<div class="inline-figure"><img src="data-viz_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
</div>
<div id="small-multiples" class="section level3" number="1.1.3">
<h3>
<span class="header-section-number">1.1.3</span> Small multiples<a class="anchor" aria-label="anchor" href="#small-multiples"><i class="fas fa-link"></i></a>
</h3>
<p><a href="https://droughtmonitor.unl.edu/DmData/DataDownload/ComprehensiveStatistics.aspx">The data from the National Drought Center comes divided by region</a>. These regions, known technically as <a href="https://www.climatehubs.usda.gov/">USDA Climate Hubs</a>, include the Pacific Northwest, California, the Southwest, the Northern Plains, the Southern Plains, the Midwest, the Southeast, the Northeast, the Northern Forests, and the Caribbean (data for the latter two regions was not included in the final visualization).</p>
<p>While drought has become more common in all regions (TODO: is this true?), certain regions have been hit harder than others. Using the</p>
</div>
<div id="well-chosen-colors" class="section level3" number="1.1.4">
<h3>
<span class="header-section-number">1.1.4</span> Well-chosen colors<a class="anchor" aria-label="anchor" href="#well-chosen-colors"><i class="fas fa-link"></i></a>
</h3>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="empty"></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R Without Statistics</strong>" was written by David Keyes. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>
</body>
</html>
